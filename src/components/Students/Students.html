<div class="Students">
  <Filters></Filters>
  <div v-show="dashboardView === 'business'">
    <div v-for="business in businesses">
      <h4>{{ business.name }}</h4>
      <div class="Students__wrap">
        <Card v-for="(student, sIndex) in business.students" :title="student.first_name + '' + student.last_name" :key="sIndex">
          <div slot="body">
            <p><small>{{ student.email }}</small></p>
            <div v-for="(course, cIndex) in student.courses">
              <label class="label flat flex flex--spaced">
                <span>{{ course.name }}</span>
              </label>
              <ProgressBar class="flat" :key="cIndex" :completed="sIndex + 4" :total="12"></ProgressBar>
              <p class="Students__elapsed"><small class="ghosted">{{ course.CourseStudent.assigned | moment("from", true) }} spent</small></p>
            </div>
          </div>
        </Card>
      </div>
    </div>
  </div>
  <div v-show="dashboardView === 'course'">
    <div v-for="course in courses">
      <h4>{{ course.name }}</h4>
      <div class="Students__wrap">
        <Card v-for="(student, sIndex) in course.students" :title="student.first_name + '' + student.last_name" :key="sIndex">
          <div slot="body">
            <p><small>{{ student.email }}</small></p>
            <div v-for="(course, cIndex) in student.courses">
              <label class="label flat flex flex--spaced">
                <span>{{ course.name }}</span>
              </label>
              <ProgressBar class="flat" :key="cIndex" :completed="sIndex + 4" :total="12"></ProgressBar>
              <p class="Students__elapsed"><small class="ghosted">{{ course.CourseStudent.assigned | moment("from", true) }} spent</small></p>
            </div>
          </div>
        </Card>
      </div>
    </div>
  </div>
</div>
